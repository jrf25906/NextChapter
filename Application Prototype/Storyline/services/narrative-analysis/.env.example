# Environment Configuration for Narrative Analysis Service

# Server Configuration
NODE_ENV=development
PORT=3005

# Security
JWT_SECRET=your-jwt-secret-here-make-it-long-and-secure

# AI Provider Configuration
# At least one API key is required for analysis
OPENAI_API_KEY=sk-your-openai-api-key-here
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Redis Configuration (optional, for distributed rate limiting)
REDIS_URL=redis://localhost:6379

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Content Limits
MAX_CONTENT_LENGTH=500000

# Logging
LOG_LEVEL=info

# Rate Limiting
DEFAULT_RATE_LIMIT_POINTS=30
ANALYSIS_RATE_LIMIT_POINTS=10
HEALTH_RATE_LIMIT_POINTS=100

# Analysis Configuration
ANALYSIS_REALTIME_LATENCY=2000
ANALYSIS_BATCH_TIMEOUT=30000
ANALYSIS_DEFAULT_FRAMEWORK=three_act

# Trauma-Informed Settings
TRAUMA_INFORMED_ENABLED=true
CULTURAL_SENSITIVITY_ENABLED=true

# Development Settings (development only)
BYPASS_AUTH=false

# API Keys for Service-to-Service Communication
VALID_API_KEYS=service-key-1,service-key-2

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000

# Performance Settings
ANALYSIS_MAX_CONCURRENT=10
ANALYSIS_CACHE_EXPIRY=3600

# Monitoring (optional)
SENTRY_DSN=your-sentry-dsn-here
DATADOG_API_KEY=your-datadog-api-key-here

# Database Configuration (if needed for analysis history)
DATABASE_URL=postgresql://user:password@localhost:5432/storyline_narrative

# Feature Flags
ENABLE_REAL_TIME_ANALYSIS=false
ENABLE_BATCH_ANALYSIS=true
ENABLE_CULTURAL_ANALYSIS=true
ENABLE_TRAUMA_INFORMED_ANALYSIS=true